"use strict";(self.webpackChunkdeterminant_web=self.webpackChunkdeterminant_web||[]).push([[1],[,(e,o,t)=>{t.r(o),t.d(o,{default:()=>a});var r=t(34),n=t(293);const s={parser:function(e,o,t){const r=JSON.parse(e),n=r[r.method];return r.method===o&&t(n),n},toMove:function(e){return function(e,o){const t={method:o};return t[o]=e,JSON.stringify(t)}(e,"move")}};var c=t(363);function a(e,o,t,a){return new Promise(((h,i)=>{const l=(0,r.Z)(t),u=t.color,m=l.getWebSocketUrl(t.wh,e.location.hostname),d=t.sh||e.location.href;l.on("socket_open",(()=>{const r=e.location.search,i=new URLSearchParams(r),m=new URL(d);m.search=i,m.searchParams.delete("wh"),m.searchParams.delete("sh"),m.searchParams.set("color",l.getOtherColor(u)),m.searchParams.set("currentMode","net");const w=(0,n.Z)(m.toString(),o.querySelector(".qrcode"));l.on("socket_close",(()=>{(0,c.ew)(w);const r=a(e,o,t);l.on("recv",(e=>{s.parser(e,"move",(e=>{r.aiMove(e)}))})),r.on("playerMove",(e=>l.sendMessage(s.toMove(e)))),h(r)}))}));try{l.connect(m,u)}catch(e){}l.on("open",(()=>{}))}))}}]]);